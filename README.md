# 網路流量分析平台

## 專案簡介

本專案是一個全端的網頁應用程式，旨在提供一個使用者友善的介面，用於上傳、分析和視覺化網路封包擷取 (PCAP) 檔案。透過整合 Suricata 入侵偵測系統，本平台能夠自動從流量中識別潛在的安全威脅與異常活動，並將結果以直觀的方式呈現給使用者。

## 主要功能 (Key Features)

*   **PCAP 檔案上傳**: 使用者可以透過網頁介面輕鬆上傳 PCAP 檔案進行分析。
*   **自動化威脅檢測**: 後端整合 Suricata 引擎，對上傳的 PCAP 檔案進行深度封包檢測，並產生安全警報。
*   **IP 威脅情資整合 (新!)**: 自動查詢外部 IP 的地理位置、ISP、以及在 AbuseIPDB 上的惡意分數，並直接顯示在網路圖中。
*   **網路流量視覺化**: 以互動式圖形方式展示網路節點及其之間的通訊關係，幫助使用者直觀地理解網路拓撲與資料流動。
*   **詳細警報列表**: 清晰地展示由 Suricata 產生的所有警報，包括時間、來源/目的 IP、嚴重性、簽章等資訊。
*   **歷史分析紀錄**: 保存每一次的分析結果，使用者可以隨時查看、比較過去的分析報告。

## 未來功能規劃 (Roadmap)

*   **即時流量監控**: 支援直接監聽網路介面，提供即時的威脅警報與流量視覺化。
*   **IP 地理位置與威脅情資整合**: 串接外部資料庫，自動標示 IP 的地理來源與已知的惡意活動紀錄。
*   **詳細協定分析與檔案提取**: ���度解析 HTTP, DNS, TLS 等應用層協定，並提供從流量中自動提取可疑檔案的功能。
*   **分析報告匯出**: 提供將單次分析結果（包括警報和圖表）匯出為 PDF 或 CSV 格式的選項。
*   **使用者註釋與標籤**: 允許使用者對警報或整個分析紀錄添加自訂的註解與標籤，以利追蹤與團隊協作。

## 技術堆疊 (Technology Stack)

*   **前端 (Frontend)**: React.js, Nginx
*   **後端 (Backend)**: Python (Flask/FastAPI), Requests
*   **威脅檢測引擎**: Suricata
*   **威脅情資**: AbuseIPDB
*   **資料庫 (Database)**: SQLite (用於儲存分析歷史)
*   **容器化 (Containerization)**: Docker, Docker Compose

## 如何啟動與執行 (Getting Started)

1.  **前置需求**: 請確保您的系統已安裝 Docker 與 Docker Compose。

2.  **(可選) 設定威脅情資 API 金鑰**:
    *   前往 [AbuseIPDB.com](https://www.abuseipdb.com/) 註冊一個免費帳號並取得您的 API 金鑰。
    *   開啟 `docker-compose.yml` 檔案。
    *   找到 `backend` 服務的 `environment` 區塊，並填入您的金鑰：
        ```yaml
        environment:
          - ABUSEIPDB_API_KEY=YOUR_API_KEY_HERE
        ```
    *   如果未提供金鑰，IP 情資查詢功能將會被跳過。

3.  **啟動服務**: 在專案根目錄下，執行以下指令以建立並啟動所有服務：
    ```bash
    docker-compose up -d --build
    ```
    *(加上 `--build` 可以確保您的變更被正確地建置到映像檔中)*

4.  **開啟應用程式**: 服務啟動後，在瀏覽器中開啟 `http://localhost` (預設 80 port) 即可開啟前端頁面。

## 使用流程 (Usage)

1.  進入首頁，點擊或拖曳 PCAP 檔案至上傳區域。
2.  系統將在背景自動進行分析。
3.  分析完成後，您可以在「歷史紀錄」頁面看到該次分析的摘要。
4.  點擊任一筆歷史紀錄，即可查看詳細的警報資訊與互動式網路圖。
